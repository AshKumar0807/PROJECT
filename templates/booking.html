{% extends 'base.html' %}

{% block title %}
Booking Details
{% endblock title %}

{% block body %}
<div class="container my-5">
  <!-- Flash Messages -->
  {% with messages=get_flashed_messages(with_categories=true) %}
  {% if messages %}
  <div class="mt-3">
    {% for category, message in messages %}
    <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
      {{ message }}
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
    {% endfor %}
  </div>
  {% endif %}
  {% endwith %}

  <!-- Booking Details Card -->
<!-- Booking Details -->
<div class="container my-4">
  <h2 class="text-center">Booking Details</h2>
  <table class="table table-bordered">
      <thead class="thead-dark">
          <tr>
              <th>ID</th>
              <th>Name</th>
              <th>Email</th>
              <th>Gender</th>
              <th>Slot</th>
              <th>Disease</th>
              <th>Actions</th>
          </tr>
      </thead>
      <tbody>
          {% for record in query %}
          <tr>
              <td>{{ record.pid }}</td>
              <td>{{ record.name }}</td>
              <td>{{ record.email }}</td>
              <td>{{ record.gender }}</td>
              <td>{{ record.slot }}</td>
              <td>{{ record.disease }}</td>
              <td>
                  <a href="{{ url_for('edit', pid=record.pid) }}" class="btn btn-sm btn-warning">Edit</a>
                  <a href="{{ url_for('delete', pid=record.pid) }}" class="btn btn-sm btn-danger">Delete</a>
              </td>
          </tr>
          {% endfor %}
      </tbody>
  </table>
</div>{% endblock body %}